<div class="page-layout">
  <!-- Left Filter Column -->
  <div class="filter-column">
    <div class="filters-card">
      <div class="filter-header">
        <h2>Filters</h2>
        <button class="reset-btn" (click)="clearFilters()">Reset</button>
      </div>

<!-- Stack Filter -->
<div class="filter-group">
  <label class="filter-label">Stack</label>
  <p-select 
    [(ngModel)]="selectedStackId" 
    [options]="stacks" 
    optionLabel="name" 
    optionValue="id"
    placeholder="Select Stack"
    (onChange)="onStackChange($event)"
    styleClass="filter-select"
    [style]="{'width': '100%'}">
  </p-select>
</div>

<!-- Category Filter -->
<div class="filter-group">
  <label class="filter-label">Category</label>
  <p-select 
    [(ngModel)]="selectedCategoryId" 
    [options]="filteredCategories" 
    optionLabel="name" 
    optionValue="id"
    placeholder="Select Category"
    (onChange)="onCategoryChange($event)"
    styleClass="filter-select"
    [style]="{'width': '100%'}">
  </p-select>
</div>

<!-- Skill Filter -->
<div class="filter-group">
  <label class="filter-label">Skill</label>
  <p-select 
    [(ngModel)]="selectedSkillId" 
    [options]="filteredSkills" 
    optionLabel="name" 
    optionValue="id"
    placeholder="Select Skill"
    (onChange)="onSkillChangeDropdown($event)"
    styleClass="filter-select"
    [style]="{'width': '100%'}">
  </p-select>
</div>

<!-- Position Filter -->
<div class="filter-group">
  <label class="filter-label">Position</label>
  <p-select 
    [(ngModel)]="selectedPosition" 
    [options]="positions" 
    optionLabel="name" 
    optionValue="name"
    placeholder="Select Position"
    (onChange)="onPositionDropdownChange($event)"
    styleClass="filter-select"
    [style]="{'width': '100%'}">
  </p-select>
</div>

<!-- Team Filter -->
<div class="filter-group">
  <label class="filter-label">Team</label>
  <p-select 
    [(ngModel)]="selectedTeam" 
    [options]="teamNames" 
    placeholder="Select Team"
    (onChange)="onTeamChange($event)"
    styleClass="filter-select"
    [style]="{'width': '100%'}">
  </p-select>
</div>

<!-- Product Filter -->
<div class="filter-group">
  <label class="filter-label">Product</label>
  <p-select 
    [(ngModel)]="selectedProduct" 
    [options]="productNames" 
    placeholder="Select Product"
    (onChange)="onProductChange($event)"
    styleClass="filter-select"
    [style]="{'width': '100%'}">
  </p-select>
</div>

<!-- Last Used -->
<div class="filter-group">
  <label class="filter-label">Last Used</label>
  <p-datepicker 
    [(ngModel)]="selectedLastUsedDate" 
    dateFormat="yy-mm-dd"
    [showIcon]="true"
    placeholder="Select Date"
    (onSelect)="filterEmployees()"
    [style]="{'width': '100%'}">
  </p-datepicker>
</div>

<!-- Search -->
<div class="filter-group">
  <label class="filter-label">Search Name</label>
  <span class="p-input-icon-left" style="width: 100%;">
    <i class="pi pi-search"></i>
    <input 
      type="text" 
      pInputText 
      placeholder="Search name..." 
      [formControl]="nameControl"
      style="width: 100%; padding-left: 40px;" />
  </span>
</div>


    </div>
  </div>

  <!-- Right Table Column -->
<div class="table-column">
  <div class="table-container">
    <div class="table-header">
      <h2>Employees</h2>
    </div>
    
    <p-table 
      [value]="tableData" 
      [paginator]="true" 
      [rows]="10"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[10, 25, 50, 100]"
      styleClass="p-datatable-striped"
      [loading]="loading"
      [tableStyle]="{'min-width': '50rem'}">
      
      <ng-template pTemplate="header">
        <tr>
          <th>Employee Name</th>
          <th>Skill Name</th>
          <th>Last Used</th>
          <th>Self Rating</th>
          <th>Years of Experience</th>
          <th>Notes</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-row>
        <tr>
          <td>{{ row.employeeName }}</td>
          <td>{{ row.skillName }}</td>
          <td>{{ row.lastUsed ? (row.lastUsed | date:'yyyy-MM-dd') : 'N/A' }}</td>
          <td>{{ row.selfRating }}</td>
          <td>{{ row.yearsOfExperience }}</td>
          <td>{{ row.notes }}</td>
        </tr>
      </ng-template>

      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="6" style="text-align: center; padding: 20px;">
            <div class="no-data">No employees found</div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

</div>

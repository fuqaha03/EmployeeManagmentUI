/* You can add global styles to this file, and also import other style files */

// Import Variables
@use 'assets/scss/variables' as *;

// Import Common Layout Styles
@import 'app/shared/styles/common-layout.scss';

// Global Page Layout Styles - Ensure they apply globally
.page-layout {
  display: flex !important;
  gap: 35px;
  max-width: 1250px;
  margin: 45px auto;
  padding: 0 15px;
  flex-wrap: wrap;
}

.page-layout.no-filter-column {
  padding: 0 40px !important;
  justify-content: center !important;
}

.page-layout.no-filter-column .table-column {
  max-width: 100% !important;
  flex: 1 1 100% !important;
}

// PrimeNG styles are imported via CDN in index.html
// For PrimeNG 18, themes need to be imported differently
// Using CSS variables for theming instead

// Import Almarai Font
@font-face {
  font-family: 'Almarai';
  src: url('assets/fonts/AlmaraiRegular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Almarai';
  src: url('assets/fonts/AlmaraiBold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

// Reset default margin and padding
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow-x: hidden; // Prevent horizontal scroll
}

* {
  font-family: $font-family-primary;
}

// PrimeNG Custom Theme Colors
:root {
  --primary-color: #{$primary-blue};
  --primary-color-text: #{$white};
  --secondary-color: #{$secondary-blue};
  --secondary-color-text: #{$white};
  --accent-color: #{$accent-purple};
  --accent-color-text: #{$white};
  
  --primary-50: #{$primary-blue-50};
  --primary-100: #{$primary-blue-100};
  --primary-200: #{$primary-blue-200};
  --primary-300: #{$primary-blue-300};
  --primary-400: #{$primary-blue-400};
  --primary-500: #{$primary-blue-500};
  --primary-600: #{$primary-blue-600};
  --primary-700: #{$primary-blue-700};
  --primary-800: #{$primary-blue-800};
  --primary-900: #{$primary-blue-900};
  
  --secondary-50: #{$secondary-blue-50};
  --secondary-100: #{$secondary-blue-100};
  --secondary-200: #{$secondary-blue-200};
  --secondary-300: #{$secondary-blue-300};
  --secondary-400: #{$secondary-blue-400};
  --secondary-500: #{$secondary-blue-500};
  --secondary-600: #{$secondary-blue-600};
  --secondary-700: #{$secondary-blue-700};
  --secondary-800: #{$secondary-blue-800};
  --secondary-900: #{$secondary-blue-900};
  
  --accent-50: #{$accent-purple-50};
  --accent-100: #{$accent-purple-100};
  --accent-200: #{$accent-purple-200};
  --accent-300: #{$accent-purple-300};
  --accent-400: #{$accent-purple-400};
  --accent-500: #{$accent-purple-500};
  --accent-600: #{$accent-purple-600};
  --accent-700: #{$accent-purple-700};
  --accent-800: #{$accent-purple-800};
  --accent-900: #{$accent-purple-900};
  
  // PrimeNG Core Variables - Default buttons use dark blue
  --p-primary-color: #{$primary-blue};
  --p-primary-color-text: #{$white};
  --p-highlight-color: #{$secondary-blue};
  --p-highlight-text-color: #{$white};
  
  // PrimeNG Button Variables - Default buttons use dark blue
  --p-button-primary-background: #{$button-primary-bg};
  --p-button-primary-hover-background: #{$button-primary-hover-bg};
  --p-button-primary-color: #{$button-primary-color};
  --p-button-primary-border-color: #{$button-primary-border};
  
  // Additional PrimeNG button variables
  --p-button-gap: 0.5rem;
  
  --p-button-secondary-background: #{$button-secondary-bg};
  --p-button-secondary-hover-background: #{$button-secondary-hover-bg};
  --p-button-secondary-color: #{$button-secondary-color};
  --p-button-secondary-border-color: #{$button-secondary-border};
  
  --p-button-danger-background: #{$button-danger-bg};
  --p-button-danger-hover-background: #{$button-danger-hover-bg};
  --p-button-danger-color: #{$button-danger-color};
  --p-button-danger-border-color: #{$button-danger-border};
  
  --p-button-success-background: #{$button-success-bg};
  --p-button-success-hover-background: #{$button-success-hover-bg};
  --p-button-success-color: #{$button-success-color};
  --p-button-success-border-color: #{$button-success-border};
  
  --p-button-warning-background: #{$button-warning-bg};
  --p-button-warning-hover-background: #{$button-warning-hover-bg};
  --p-button-warning-color: #{$button-warning-color};
  --p-button-warning-border-color: #{$button-warning-border};
  
  --p-button-info-background: #{$button-info-bg};
  --p-button-info-hover-background: #{$button-info-hover-bg};
  --p-button-info-color: #{$button-info-color};
  --p-button-info-border-color: #{$button-info-border};
  
  --p-button-text-color: #{$button-text-color};
  --p-button-text-hover-background: #{$button-text-hover-bg};
  --p-button-text-hover-color: #{$button-text-hover-color};
  
  --p-button-padding-x: #{$button-padding-x};
  --p-button-padding-y: #{$button-padding-y};
  --p-button-border-radius: #{$button-border-radius};
  --p-button-font-weight: #{$button-font-weight};
  --p-button-transition-duration: 0.3s;
  --p-button-gap: 0.5rem;
  
  // Override PrimeNG green colors with blue - Set before PrimeNG references them
  --p-green-50: #{$secondary-blue-50};
  --p-green-100: #{$secondary-blue-100};
  --p-green-200: #{$secondary-blue-200};
  --p-green-300: #{$secondary-blue-300};
  --p-green-400: #{$secondary-blue-400};
  --p-green-500: #{$secondary-blue-500};
  --p-green-600: #{$secondary-blue-600};
  --p-green-700: #{$secondary-blue-700};
  --p-green-800: #{$secondary-blue-800};
  --p-green-900: #{$secondary-blue-900};
  
  // Override PrimeNG emerald colors (used by primary) with blue
  --p-emerald-50: #{$primary-blue-50};
  --p-emerald-100: #{$primary-blue-100};
  --p-emerald-200: #{$primary-blue-200};
  --p-emerald-300: #{$primary-blue-300};
  --p-emerald-400: #{$primary-blue-400};
  --p-emerald-500: #{$primary-blue-500};
  --p-emerald-600: #{$primary-blue-600};
  --p-emerald-700: #{$primary-blue-700};
  --p-emerald-800: #{$primary-blue-800};
  --p-emerald-900: #{$primary-blue-900};
  --p-emerald-950: #{$primary-blue-900};
  
  // Override PrimeNG primary colors to use dark blue directly - Break the var() chain
  --p-primary-50: #{$primary-blue-50};
  --p-primary-100: #{$primary-blue-100};
  --p-primary-200: #{$primary-blue-200};
  --p-primary-300: #{$primary-blue-300};
  --p-primary-400: #{$primary-blue-400};
  --p-primary-500: #{$primary-blue-500};
  --p-primary-600: #{$primary-blue-600};
  --p-primary-700: #{$primary-blue-700};
  --p-primary-800: #{$primary-blue-800};
  --p-primary-900: #{$primary-blue-900};
  --p-primary-950: #{$primary-blue-900};
  
  // Override PrimeNG success/tag colors to use blue - Break the var() chain
  --p-tag-success-background: #{$secondary-blue-100};
  --p-tag-success-color: #{$secondary-blue-700};
  
  // Override button text success colors - Break the var() chain
  --p-button-text-success-hover-background: #{$secondary-blue-50};
  --p-button-text-success-active-background: #{$secondary-blue-100};
  --p-button-text-success-color: #{$secondary-blue-500};
  
  // Override toast success colors
  --p-toast-success-background: color-mix(in srgb, #{$secondary-blue-50}, transparent 5%);
  --p-toast-success-border-color: #{$secondary-blue-200};
  --p-toast-success-color: #{$secondary-blue-600};
  --p-toast-success-detail-color: var(--p-surface-700);
  --p-toast-success-shadow: 0px 4px 8px 0px color-mix(in srgb, #{$secondary-blue-500}, transparent 96%);
  --p-toast-success-close-button-hover-background: #{$secondary-blue-100};
  --p-toast-success-close-button-focus-ring-color: #{$secondary-blue-600};
  
  // Override any other green-related variables
  --p-success-color: #{$secondary-blue};
  --p-success-contrast-color: #{$white};
}

// Override PrimeNG theme variables
.p-component {
  font-family: $font-family-primary;
}

// Default .p-button uses dark blue - Direct override for PrimeNG
.p-button:not(.p-button-secondary):not(.p-button-danger):not(.p-button-success):not(.p-button-warning):not(.p-button-info):not(.p-button-text):not(.p-button-outlined):not([severity]) {
  background: var(--p-button-primary-background, var(--p-primary-color, #{$primary-blue})) !important;
  border-color: var(--p-button-primary-border-color, var(--p-primary-color, #{$primary-blue})) !important;
  color: var(--p-button-primary-color, var(--p-primary-color-text, #{$white})) !important;
  
  &:hover:not(:disabled) {
    background: var(--p-button-primary-hover-background, #{$primary-blue-600}) !important;
    border-color: var(--p-button-primary-hover-background, #{$primary-blue-600}) !important;
  }
  
  &:focus:not(:disabled) {
    box-shadow: 0 0 0 0.2rem rgba(0, 58, 112, 0.5) !important;
  }
}

.p-button-secondary {
  background: var(--p-button-secondary-background);
  border-color: var(--p-button-secondary-border-color);
  color: var(--p-button-secondary-color);
  
  &:hover:not(:disabled) {
    background: var(--p-button-secondary-hover-background);
    border-color: var(--p-button-secondary-hover-background);
  }
}

.p-button-outlined {
  color: $primary-blue;
  border-color: $primary-blue;
  
  &:hover {
    background: $primary-blue-50;
  }
}

.p-inputtext:enabled:focus {
  border-color: $primary-blue;
  box-shadow: 0 0 0 0.2rem rgba(0, 58, 112, 0.2);
}

.p-select:not(.p-disabled).p-focus,
.p-dropdown:not(.p-disabled).p-focus {
  border-color: $primary-blue;
  box-shadow: 0 0 0 0.2rem rgba(0, 58, 112, 0.2);
}

.p-checkbox .p-checkbox-box.p-highlight {
  background: $primary-blue;
  border-color: $primary-blue;
}

.p-radio-button .p-radio-box.p-highlight {
  background: $primary-blue;
  border-color: $primary-blue;
}

.p-tabview .p-tabview-nav li.p-highlight .p-tabview-nav-link {
  border-color: $primary-blue;
  color: $primary-blue;
}

.p-menu .p-menuitem-link:focus {
  background: $primary-blue-50;
}

.p-datatable .p-datatable-thead > tr > th {
  background: $primary-blue;
  color: $white;
}

.p-toast .p-toast-message.p-toast-message-success {
  background: $secondary-blue;
  border-color: $secondary-blue;
}

.p-toast .p-toast-message.p-toast-message-error {
  background: $error;
  border-color: $error;
}

.p-toast .p-toast-message.p-toast-message-warn {
  background: $warning;
  border-color: $warning;
}

.p-toast .p-toast-message.p-toast-message-info {
  background: $secondary-blue;
  border-color: $secondary-blue;
}

// Light/Dark Theme Support
// Default (Light Theme) - applied to :root and html.light-theme
:root,
html.light-theme {
  --bg-color: #{$white};
  --text-color: #{$gray-900};
  --card-bg: #{$white};
  --border-color: #{$gray-300};
  --hover-bg: #{$gray-100};
  --shadow: rgba(0, 0, 0, 0.1);
  --surface-overlay-bg: rgba(255, 255, 255, 0.9);
  --mask-bg: rgba(0, 0, 0, 0.4);
}

// Dark Theme - applied to html.dark-theme
html.dark-theme {
  --bg-color: #{$gray-900};
  --text-color: #{$gray-100};
  --card-bg: #{$gray-800};
  --border-color: #{$gray-700};
  --hover-bg: #{$gray-700};
  --shadow: rgba(0, 0, 0, 0.3);
  --surface-overlay-bg: rgba(33, 33, 33, 0.9);
  --mask-bg: rgba(0, 0, 0, 0.7);
  
  // Override PrimeNG dark theme
  .p-component {
    color: var(--text-color);
  }
  
  .p-card {
    background: var(--card-bg);
    color: var(--text-color);
    border-color: var(--border-color);
  }
  
  .p-datatable {
    background: var(--card-bg);
    color: var(--text-color);
    
    .p-datatable-thead > tr > th {
      background: $primary-blue;
      color: $white;
    }
    
    .p-datatable-tbody > tr {
      background: var(--card-bg);
      color: var(--text-color);
      
      &:hover {
        background: var(--hover-bg);
      }
    }
  }
  
  .p-inputtext,
  .p-select,
  .p-textarea,
  .p-inputnumber-input {
    background: var(--card-bg);
    color: var(--text-color);
    border-color: var(--border-color);
    
    &:enabled:hover {
      border-color: var(--border-color);
    }
    
    &:enabled:focus {
      border-color: $primary-blue;
      box-shadow: 0 0 0 0.2rem rgba(0, 58, 112, 0.2);
    }
  }
  
  .p-select-panel {
    background: var(--card-bg);
    color: var(--text-color);
    border-color: var(--border-color);
  }
  
  .p-select-item {
    color: var(--text-color);
    
    &:hover {
      background: var(--hover-bg);
    }
  }
  
  .p-dialog {
    .p-dialog-header {
      background: var(--card-bg);
      color: var(--text-color);
      border-bottom-color: var(--border-color);
    }
    
    .p-dialog-content {
      background: var(--card-bg);
      color: var(--text-color);
    }
    
    .p-dialog-footer {
      background: var(--card-bg);
      border-top-color: var(--border-color);
    }
  }
  
  .p-menu {
    background: var(--card-bg);
    border-color: var(--border-color);
    
    .p-menuitem-link {
      color: var(--text-color);
      
      &:hover {
        background: var(--hover-bg);
      }
    }
  }
  
  .p-toast {
    .p-toast-message {
      background: var(--card-bg);
      color: var(--text-color);
      border-color: var(--border-color);
    }
  }
  
  .p-breadcrumb {
    background: var(--card-bg);
    border-color: var(--border-color);
    
    .p-breadcrumb-list li .p-menuitem-link {
      color: var(--text-color);
    }
  }
}

// Apply theme variables globally
body {
  background-color: var(--bg-color);
  color: var(--text-color);
  transition: background-color 0.3s ease, color 0.3s ease;
  min-height: 100vh;
}

// Ensure all components inherit theme colors
.p-component {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

// Responsive Design
@media (max-width: $breakpoint-md) {
  .p-datatable {
    font-size: 0.875rem;
  }
  
  .p-dialog {
    width: 95vw !important;
    max-width: 95vw !important;
  }
}

@media (max-width: $breakpoint-sm) {
  .p-button {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }
}

